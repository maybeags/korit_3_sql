# 이제 SQL 수업 관련 자료는 여기다가 정리할 예정입니다.

git add .
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/maybeags/korit_3_sql.git
인데 여러분 깃허브 리포지토리 주소입니다.
git push -u origin main
이거 다하고 브라우저에서 새로고침하시면 push되어있습니다.

# Database 관련 핵심 용어 정리

## Database 정의 및 특징

1. Data : 사람 / 사물의 활동으로 발생되는 사실과 결과, 기억,
  의사 결정을 하는데 의식적으로 사용하는 지식 등.
  - 형태 : 숫자 / 문자 / 날짜 /영상 / 이미지 etc
2. Base : 저장소

그 결과 Database를 _숫자, 문자, 날짜, 이미지 등의 형태로 존재하는 것을_
_담는 저장소_

### 특성
1. 등록 - 데이터가 각 형태에 맞게 저장소에 등록되어야 함.
2. 관리 - 저장소에 있는 데이터는 잘 정리되어있어야 하며, 경우에 따라
  다른 형태로 변형하거나 제거될 수 있어야 함.
3. 검색 - 저장된 데이터를 보관만하는 것이 아니라 필요한 데이터를
  찾아서 사용할 수 있도록 해야 함.

## Database 종류와 특징
1. 계층형 데이터베이스(HDBMS)
2. 네트워크형 데이터베이스(NDBMS)
3. 관계형 데이터베이스(RDBMS) _우리가 사용할 것_
4. 객체지향 데이터베이스(ODBMS) - 최근에 시험에 자주 나오는 편
5. NoSQL(Not Only SQL) - SQL문만 사용하지 않고 그 특성이 DB에 따라 다름
6. 시계열 데이터베이스(TSDB - Time Series Database)
  - 쉽게 접하는 예시가 주식 시세, 환자 심박수, 경제 지표 등 시간에 따라
    저장된 데이터를 표기함.

## RDBMS

### 데이터 저장 방식
- 2차원 구조의 표 형식으로 저장하는 Table로, 상품이나 사용자와
  같이 어느 한 개체를 표현하는 단위이며 그 안에 개체의 특징을
  이루는 속성과 성질 혹은 관련 항목들을 한데 모아서 관리함.
- 이상의 특징을 서로 관련있는 것끼리 묶어주고 연결시키는
  관계(Relataion)라는 개념이 핵심.

DB가 갖추어야 하는 자격(기능적인) 요건
1. 저장 요건
  - 입력하고자 하는 위치에 데이터를 신속하게 저장, 잘 보존
    최대한 중복이 발생하지 않도록 해야 함.
2. 조회 요건
  - 저장된 데이터가 어디에 있더라도 조회는 빠르고, 정확하고,
    누락이 없어야 함.
3. 수정 요건
  - 데이터 수정시에 해당 항목의 데이터만 수정되어야 하며 
    다른 곳에 있는 데이터는 영향을 받지 않아야 함. 또한
    수정된 데이터는 영속적으로 관리되어야 함.
4. 삭제 요건
  - 실제 물리적으로 완전한 삭제가 이루어져야 함.

### 관계형 데이터베이스 관리 시스템(RDBMS)의 특징
1. 데이터 중앙화 및 구조화
  - 데이터를 중앙화하여 효율적으로 관리하고 구조화를 통해
    일관성있게 유지하며, 이를 통해 데이터를 쉽게 저장,
    검색 및 업데이트할 수 있어야 함.
2. 데이터 무결성과 보안
  - 데이터의 무결성을 보장하고 보안을 강화하여 불법적인
    접근으로부터 데이터를 보호함. 데이터의 정확성, 안전성,
    엑세스 권한을 통제하여 데이터의 무단 수정을 방지해야 함.
3. 데이터 독립성과 일관성
  - 응용 프로그램 간의 독립성을 제공하여 데이터 구조의 변경
    이나 이동이 응용 프로그램에 영향을 미치지 않아야 함.
4. 동시성 제어와 백업 / 복구
  - 다중 사용자 환경에서 동시성을 제어하여 여러 사용자가 
    동시에 데이터에 접근할 수 있도록 한다. 또한 백업 / 복구 기능
    을 제공하여 시스템 장애나 손실로부터 데이터를 보호해야 함.

```sql
--  이게 한 줄 주석
-- 예를 들어 이렇게 작성했다가
-- 엔터치고 이렇게 했다가
-- ctrl + /도 다중 주석 처리가 가능합니다.
-- 
 create database sampledb character set utf8mb4 collate utf8mb4_general_ci;
 USE sampledb;
-- 
-- 테이블 생성
 create table 회원등급별할인액 (
 회원등급 VARCHAR(20),
 등급별할인액 int,
 primary key(회원등급)
 ) engine=INNODB CHARSET=utf8mb4;

```


# 오류 생기는거 짜증나서 미리 작성해두겠습니다.

```sql
/*
* 데이터베이스 생성
*/

CREATE DATABASE sampledb CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

USE sampledb;


/*
* 테이블 생성
*/

CREATE TABLE 회원등급별할인액 (
회원등급 VARCHAR(20),
등급별할인액 INT,
PRIMARY KEY(회원등급)
) ENGINE=INNODB CHARSET=utf8mb4;

CREATE TABLE 회원 (
회원아이디 VARCHAR(20),
이름 VARCHAR(20),
핸드폰번호 VARCHAR(20),
회원등급 VARCHAR(20),
CONSTRAINT FK_회원등급별할인액 FOREIGN KEY(회원등급) REFERENCES 회원등급별할인액(회원등급) ON DELETE CASCADE,
PRIMARY KEY(회원아이디)
) ENGINE=INNODB CHARSET=utf8mb4;

CREATE TABLE 상품 (
상품번호 VARCHAR(20),
상품명 VARCHAR(100),
품목 VARCHAR(100),
PRIMARY KEY(상품번호)
) ENGINE=INNODB CHARSET=utf8mb4;

CREATE TABLE 상품주문 (
회원아이디 VARCHAR(20),
주문번호 INT,
상품번호 VARCHAR(20),
주문금액 INT,
주문수량 INT,
결제금액 INT,
주문일자 DATETIME,
CONSTRAINT FK_회원아이디 FOREIGN KEY(회원아이디) REFERENCES 회원(회원아이디) ON DELETE CASCADE,
CONSTRAINT FK_상품번호 FOREIGN KEY(상품번호) REFERENCES 상품(상품번호) ON DELETE CASCADE,
PRIMARY KEY(회원아이디,주문번호,상품번호)
) ENGINE=INNODB CHARSET=utf8mb4;


/*
* 데이터 입력
*/

INSERT INTO 회원등급별할인액(회원등급,등급별할인액) VALUES('일반', 0);
INSERT INTO 회원등급별할인액(회원등급,등급별할인액) VALUES('우수', 500);
INSERT INTO 회원등급별할인액(회원등급,등급별할인액) VALUES('실버', 1000);
INSERT INTO 회원등급별할인액(회원등급,등급별할인액) VALUES('골드', 2000);

INSERT INTO 회원(회원아이디,이름,핸드폰번호,회원등급) VALUES('a001', '홍길동', '01011112222', '일반');
INSERT INTO 회원(회원아이디,이름,핸드폰번호,회원등급) VALUES('a002', '이순신', '01077779999', '우수');
INSERT INTO 회원(회원아이디,이름,핸드폰번호,회원등급) VALUES('a003', '김유신', '01012345678', '실버');
INSERT INTO 회원(회원아이디,이름,핸드폰번호,회원등급) VALUES('a004', '최영', '01155556666', '우수');
INSERT INTO 회원(회원아이디,이름,핸드폰번호,회원등급) VALUES('a005', '유관순', '01088889999', '골드');
-- INSERT INTO 회원(회원아이디,이름,핸드폰번호,회원등급) VALUES('a006', '강감찬', '01054321234', '일반');

INSERT INTO 상품(상품번호,상품명,품목) VALUES('A1123', '귤', '과일');
INSERT INTO 상품(상품번호,상품명,품목) VALUES('A7032', '사과', '과일');
INSERT INTO 상품(상품번호,상품명,품목) VALUES('A4356', '딸기', '과일');
INSERT INTO 상품(상품번호,상품명,품목) VALUES('B0023', '딸기소보로', '베이커리');

INSERT INTO 상품주문(회원아이디,주문번호,상품번호,주문금액,주문수량,결제금액,주문일자) VALUES('a001', 1000, 'A1123',4000,1,4000,'2014-01-10 15:34:30');
INSERT INTO 상품주문(회원아이디,주문번호,상품번호,주문금액,주문수량,결제금액,주문일자) VALUES('a002', 1001, 'A7032',2000,1,1500,'2014-01-10 17:02:21');
INSERT INTO 상품주문(회원아이디,주문번호,상품번호,주문금액,주문수량,결제금액,주문일자) VALUES('a001', 1000, 'A7032',4000,2,4000,'2014-01-10 18:57:14');
INSERT INTO 상품주문(회원아이디,주문번호,상품번호,주문금액,주문수량,결제금액,주문일자) VALUES('a003', 1003, 'A1123',8000,2,7000,'2014-01-11 07:42:27');
INSERT INTO 상품주문(회원아이디,주문번호,상품번호,주문금액,주문수량,결제금액,주문일자) VALUES('a004', 1004, 'A4356',3000,1,2500,'2014-01-11 10:13:55');
INSERT INTO 상품주문(회원아이디,주문번호,상품번호,주문금액,주문수량,결제금액,주문일자) VALUES('a004', 1005, 'A1123',12000,3,11500,'2014-01-11 12:07:22');
INSERT INTO 상품주문(회원아이디,주문번호,상품번호,주문금액,주문수량,결제금액,주문일자) VALUES('a005', 1006, 'B0023',5000,1,3000,'2014-01-12 22:04:31');

```